const state = {
    space: `.`,
    tree: `|`,
    lumber: `#`,
}

let initialState = [
    [`.`, `.`, `.`, `.`, `.`, `.`, `|`, `|`, `.`, `.`, `.`, `#`, `.`, `|`, `#`, `|`, `|`, `#`, `.`, `.`, `.`, `.`, `.`, `.`, `|`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `|`, `.`, `|`, `#`, `|`, `|`, `.`, `|`, `#`, `.`, `.`, `.`, `#`, `.`, `#`, `.`],
    [`.`, `#`, `.`, `#`, `.`, `#`, `.`, `|`, `.`, `|`, `#`, `#`, `.`, `|`, `#`, `#`, `|`, `.`, `|`, `|`, `#`, `.`, `.`, `#`, `|`, `|`, `.`, `|`, `.`, `.`, `.`, `.`, `.`, `|`, `|`, `.`, `.`, `.`, `.`, `|`, `#`, `|`, `.`, `.`, `.`, `.`, `#`, `|`, `#`, `.`],
    [`.`, `.`, `|`, `.`, `.`, `#`, `.`, `#`, `#`, `|`, `#`, `.`, `.`, `#`, `.`, `|`, `#`, `#`, `.`, `.`, `.`, `.`, `|`, `.`, `.`, `#`, `|`, `#`, `.`, `|`, `|`, `.`, `.`, `#`, `.`, `.`, `.`, `.`, `#`, `|`, `.`, `.`, `.`, `.`, `.`, `.`, `#`, `|`, `.`, `.`],
    [`.`, `.`, `.`, `.`, `.`, `.`, `.`, `|`, `.`, `.`, `.`, `.`, `#`, `|`, `#`, `.`, `#`, `|`, `.`, `|`, `#`, `#`, `.`, `|`, `|`, `.`, `.`, `.`, `.`, `.`, `.`, `#`, `.`, `|`, `.`, `.`, `.`, `.`, `|`, `#`, `#`, `.`, `.`, `.`, `.`, `#`, `#`, `|`, `|`, `.`],
    [`|`, `#`, `|`, `.`, `.`, `.`, `.`, `.`, `|`, `.`, `#`, `|`, `.`, `.`, `#`, `.`, `.`, `.`, `.`, `.`, `#`, `.`, `.`, `.`, `|`, `#`, `.`, `#`, `.`, `#`, `#`, `.`, `.`, `.`, `.`, `#`, `.`, `|`, `|`, `.`, `.`, `.`, `.`, `#`, `#`, `.`, `#`, `|`, `#`, `|`],
    [`#`, `|`, `#`, `#`, `|`, `.`, `.`, `|`, `.`, `|`, `#`, `|`, `|`, `.`, `|`, `#`, `|`, `.`, `|`, `.`, `.`, `#`, `.`, `.`, `.`, `#`, `|`, `.`, `#`, `#`, `.`, `|`, `#`, `.`, `|`, `.`, `.`, `.`, `.`, `.`, `#`, `#`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `.`],
    [`.`, `#`, `|`, `#`, `.`, `.`, `#`, `|`, `.`, `.`, `|`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `#`, `.`, `.`, `#`, `.`, `.`, `.`, `.`, `.`, `.`, `#`, `#`, `|`, `|`, `#`, `|`, `|`, `#`, `.`, `|`, `|`, `#`, `|`, `.`, `#`, `.`, `.`, `.`, `.`, `.`, `|`, `|`],
    [`.`, `#`, `.`, `#`, `.`, `.`, `|`, `.`, `|`, `.`, `.`, `.`, `.`, `.`, `|`, `.`, `#`, `.`, `.`, `.`, `|`, `.`, `.`, `.`, `.`, `|`, `#`, `.`, `.`, `#`, `.`, `.`, `.`, `|`, `.`, `|`, `.`, `|`, `.`, `.`, `#`, `.`, `.`, `.`, `#`, `.`, `#`, `.`, `|`, `|`],
    [`|`, `.`, `|`, `|`, `|`, `#`, `#`, `|`, `#`, `.`, `#`, `.`, `.`, `#`, `|`, `.`, `.`, `|`, `.`, `.`, `.`, `.`, `|`, `.`, `.`, `.`, `#`, `|`, `.`, `.`, `|`, `.`, `.`, `#`, `.`, `#`, `.`, `|`, `.`, `#`, `.`, `|`, `#`, `.`, `.`, `.`, `#`, `#`, `.`, `|`],
    [`|`, `.`, `.`, `.`, `#`, `|`, `.`, `.`, `#`, `.`, `.`, `.`, `.`, `.`, `#`, `#`, `#`, `.`, `#`, `|`, `#`, `.`, `.`, `.`, `#`, `#`, `.`, `.`, `.`, `.`, `|`, `.`, `.`, `|`, `|`, `|`, `|`, `.`, `|`, `.`, `#`, `.`, `|`, `#`, `.`, `#`, `.`, `.`, `.`, `.`],
    [`.`, `.`, `.`, `#`, `.`, `.`, `.`, `.`, `#`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `|`, `.`, `.`, `.`, `#`, `#`, `.`, `.`, `.`, `.`, `#`, `|`, `#`, `.`, `.`, `|`, `.`, `.`, `.`, `#`, `|`, `.`, `.`, `#`, `.`, `.`, `|`, `|`, `|`, `.`, `|`, `#`, `.`, `.`],
    [`.`, `.`, `.`, `.`, `.`, `|`, `|`, `.`, `|`, `.`, `|`, `|`, `#`, `|`, `#`, `.`, `.`, `|`, `|`, `.`, `.`, `.`, `.`, `#`, `|`, `.`, `|`, `.`, `|`, `|`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `#`, `.`, `|`, `.`, `.`, `.`, `.`, `.`, `|`, `.`, `.`, `.`, `.`],
    [`|`, `#`, `.`, `#`, `|`, `.`, `.`, `#`, `.`, `#`, `.`, `.`, `.`, `.`, `#`, `#`, `.`, `#`, `.`, `|`, `.`, `#`, `#`, `|`, `.`, `.`, `|`, `.`, `|`, `.`, `#`, `.`, `.`, `.`, `.`, `.`, `#`, `.`, `.`, `#`, `.`, `.`, `.`, `.`, `.`, `#`, `.`, `.`, `.`, `.`],
    [`#`, `.`, `|`, `|`, `.`, `#`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `#`, `.`, `.`, `.`, `|`, `#`, `.`, `.`, `#`, `|`, `.`, `#`, `.`, `#`, `.`, `.`, `.`, `#`, `|`, `|`, `|`, `.`, `.`, `.`, `.`, `.`, `|`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `|`, `.`],
    [`.`, `|`, `.`, `|`, `.`, `.`, `.`, `|`, `.`, `|`, `.`, `#`, `|`, `.`, `.`, `.`, `#`, `.`, `.`, `.`, `|`, `|`, `.`, `|`, `.`, `#`, `.`, `#`, `.`, `.`, `.`, `#`, `#`, `.`, `.`, `.`, `.`, `.`, `.`, `|`, `#`, `.`, `.`, `.`, `.`, `.`, `#`, `#`, `.`, `.`],
    [`#`, `#`, `#`, `.`, `.`, `.`, `.`, `|`, `|`, `#`, `.`, `#`, `.`, `.`, `#`, `.`, `#`, `|`, `.`, `#`, `#`, `|`, `.`, `#`, `#`, `.`, `.`, `#`, `.`, `.`, `#`, `|`, `.`, `.`, `|`, `#`, `#`, `|`, `.`, `#`, `.`, `|`, `.`, `.`, `.`, `#`, `.`, `.`, `.`, `.`],
    [`.`, `#`, `.`, `#`, `.`, `.`, `|`, `#`, `#`, `.`, `.`, `#`, `.`, `#`, `.`, `.`, `#`, `.`, `.`, `.`, `.`, `.`, `|`, `|`, `|`, `.`, `.`, `|`, `.`, `.`, `.`, `.`, `.`, `|`, `|`, `|`, `.`, `#`, `#`, `#`, `.`, `|`, `.`, `.`, `#`, `.`, `|`, `|`, `#`, `.`],
    [`|`, `.`, `.`, `#`, `.`, `|`, `.`, `#`, `.`, `.`, `|`, `#`, `#`, `.`, `#`, `.`, `|`, `.`, `#`, `.`, `.`, `.`, `.`, `.`, `#`, `.`, `|`, `.`, `.`, `#`, `.`, `|`, `.`, `|`, `.`, `.`, `.`, `|`, `|`, `.`, `.`, `#`, `.`, `.`, `#`, `|`, `.`, `.`, `|`, `#`],
    [`.`, `.`, `.`, `|`, `.`, `.`, `#`, `|`, `.`, `.`, `|`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `|`, `|`, `#`, `.`, `.`, `.`, `.`, `#`, `.`, `.`, `.`, `#`, `.`, `.`, `|`, `|`, `.`, `|`, `.`, `.`, `.`, `.`, `#`, `.`, `.`, `.`, `.`, `.`, `.`, `.`],
    [`.`, `.`, `.`, `.`, `.`, `#`, `.`, `#`, `.`, `|`, `.`, `.`, `.`, `|`, `#`, `.`, `.`, `.`, `#`, `#`, `#`, `#`, `|`, `|`, `.`, `.`, `.`, `#`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `#`, `.`, `.`, `#`, `.`, `#`, `#`, `.`, `#`, `.`, `.`],
    [`|`, `#`, `.`, `#`, `#`, `#`, `.`, `.`, `#`, `.`, `.`, `#`, `|`, `#`, `|`, `.`, `|`, `.`, `.`, `#`, `|`, `.`, `.`, `.`, `.`, `#`, `#`, `.`, `.`, `#`, `.`, `.`, `|`, `.`, `.`, `.`, `#`, `|`, `#`, `.`, `.`, `#`, `.`, `#`, `#`, `.`, `|`, `.`, `.`, `#`],
    [`.`, `|`, `#`, `#`, `.`, `#`, `.`, `.`, `.`, `.`, `#`, `.`, `.`, `.`, `.`, `#`, `.`, `.`, `.`, `#`, `|`, `.`, `#`, `#`, `.`, `.`, `.`, `|`, `#`, `.`, `|`, `|`, `.`, `#`, `.`, `.`, `.`, `|`, `.`, `.`, `.`, `.`, `|`, `.`, `.`, `|`, `#`, `.`, `#`, `.`],
    [`.`, `|`, `.`, `.`, `|`, `|`, `|`, `.`, `.`, `|`, `.`, `.`, `.`, `#`, `.`, `|`, `.`, `|`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `|`, `#`, `.`, `.`, `|`, `#`, `#`, `.`, `#`, `.`, `|`, `#`, `.`, `|`, `.`, `.`, `#`, `.`, `.`, `|`, `#`, `.`],
    [`|`, `#`, `|`, `.`, `#`, `.`, `.`, `#`, `|`, `.`, `.`, `.`, `|`, `|`, `|`, `.`, `.`, `|`, `.`, `#`, `#`, `#`, `|`, `|`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `#`, `.`, `.`, `.`, `|`, `.`, `.`, `.`, `|`, `|`, `.`, `|`, `#`, `#`, `.`, `.`, `|`, `|`, `.`],
    [`.`, `.`, `#`, `.`, `|`, `.`, `.`, `.`, `|`, `|`, `#`, `.`, `.`, `.`, `#`, `#`, `.`, `.`, `.`, `.`, `.`, `|`, `|`, `.`, `.`, `#`, `|`, `.`, `.`, `#`, `.`, `#`, `.`, `.`, `.`, `|`, `#`, `.`, `.`, `#`, `.`, `#`, `#`, `#`, `.`, `#`, `.`, `.`, `#`, `.`],
    [`|`, `.`, `|`, `|`, `.`, `.`, `#`, `#`, `.`, `.`, `.`, `.`, `#`, `.`, `.`, `.`, `#`, `.`, `.`, `.`, `.`, `.`, `.`, `#`, `.`, `|`, `|`, `.`, `|`, `.`, `#`, `#`, `|`, `.`, `|`, `|`, `|`, `|`, `.`, `.`, `.`, `|`, `#`, `.`, `.`, `.`, `.`, `.`, `.`, `.`],
    [`.`, `.`, `#`, `#`, `.`, `#`, `.`, `|`, `#`, `.`, `.`, `|`, `|`, `.`, `.`, `#`, `.`, `.`, `.`, `.`, `.`, `.`, `|`, `.`, `.`, `|`, `#`, `.`, `|`, `|`, `.`, `|`, `.`, `|`, `|`, `.`, `|`, `.`, `#`, `|`, `|`, `.`, `|`, `.`, `.`, `#`, `.`, `|`, `|`, `#`],
    [`.`, `|`, `.`, `.`, `.`, `#`, `#`, `|`, `.`, `.`, `|`, `.`, `#`, `.`, `#`, `.`, `.`, `#`, `#`, `.`, `.`, `#`, `.`, `.`, `#`, `.`, `.`, `.`, `.`, `|`, `.`, `#`, `.`, `#`, `.`, `.`, `.`, `.`, `#`, `.`, `#`, `.`, `|`, `#`, `.`, `.`, `.`, `#`, `|`, `|`],
    [`|`, `.`, `|`, `#`, `#`, `.`, `|`, `|`, `|`, `|`, `|`, `.`, `|`, `.`, `|`, `|`, `.`, `.`, `.`, `|`, `.`, `|`, `|`, `.`, `#`, `#`, `.`, `.`, `|`, `.`, `|`, `|`, `.`, `.`, `#`, `.`, `.`, `#`, `.`, `.`, `#`, `|`, `.`, `.`, `.`, `.`, `.`, `.`, `#`, `|`],
    [`.`, `.`, `#`, `.`, `|`, `#`, `#`, `.`, `.`, `.`, `.`, `#`, `.`, `#`, `.`, `.`, `.`, `.`, `#`, `.`, `.`, `.`, `#`, `.`, `.`, `.`, `.`, `#`, `#`, `#`, `.`, `.`, `.`, `.`, `.`, `.`, `#`, `#`, `.`, `.`, `|`, `.`, `.`, `.`, `.`, `.`, `.`, `#`, `.`, `.`],
    [`#`, `#`, `.`, `.`, `.`, `.`, `#`, `|`, `#`, `.`, `#`, `.`, `#`, `.`, `#`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `#`, `.`, `.`, `.`, `#`, `.`, `.`, `#`, `|`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `|`, `.`, `.`],
    [`#`, `#`, `|`, `|`, `|`, `.`, `#`, `#`, `.`, `.`, `.`, `.`, `.`, `.`, `#`, `.`, `#`, `#`, `.`, `.`, `.`, `.`, `.`, `.`, `#`, `.`, `.`, `|`, `.`, `.`, `#`, `.`, `.`, `#`, `.`, `#`, `.`, `.`, `|`, `|`, `.`, `.`, `.`, `|`, `.`, `.`, `.`, `|`, `#`, `|`],
    [`.`, `|`, `.`, `.`, `.`, `.`, `#`, `.`, `#`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `#`, `.`, `#`, `.`, `#`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `|`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `#`, `.`, `|`, `|`, `#`, `|`, `|`, `#`],
    [`.`, `.`, `|`, `.`, `|`, `#`, `.`, `|`, `.`, `.`, `.`, `#`, `#`, `.`, `|`, `.`, `#`, `.`, `#`, `.`, `#`, `.`, `#`, `.`, `.`, `.`, `|`, `.`, `.`, `.`, `|`, `.`, `.`, `.`, `#`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `|`, `#`, `|`, `#`, `.`, `|`, `.`, `|`],
    [`.`, `.`, `.`, `.`, `.`, `.`, `|`, `.`, `#`, `#`, `#`, `#`, `.`, `.`, `|`, `.`, `.`, `.`, `.`, `.`, `#`, `.`, `.`, `.`, `.`, `#`, `|`, `#`, `#`, `.`, `.`, `|`, `.`, `|`, `#`, `#`, `.`, `.`, `.`, `.`, `.`, `#`, `#`, `|`, `.`, `|`, `#`, `.`, `#`, `.`],
    [`.`, `#`, `#`, `.`, `.`, `#`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `#`, `#`, `#`, `.`, `|`, `.`, `.`, `#`, `.`, `|`, `.`, `|`, `#`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `#`, `.`, `.`, `#`, `.`, `#`, `.`, `|`, `.`, `.`, `|`, `#`, `.`, `.`, `.`, `.`],
    [`.`, `|`, `.`, `.`, `|`, `.`, `.`, `#`, `.`, `.`, `#`, `.`, `#`, `.`, `#`, `#`, `#`, `|`, `#`, `|`, `#`, `.`, `.`, `.`, `.`, `|`, `|`, `#`, `.`, `.`, `.`, `.`, `#`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `|`, `.`, `.`, `.`, `.`, `.`, `#`, `#`, `.`, `.`],
    [`.`, `.`, `#`, `.`, `.`, `#`, `#`, `.`, `.`, `|`, `.`, `|`, `.`, `.`, `.`, `.`, `|`, `|`, `#`, `|`, `#`, `.`, `.`, `.`, `.`, `.`, `|`, `#`, `.`, `|`, `.`, `#`, `#`, `#`, `|`, `.`, `.`, `.`, `.`, `#`, `|`, `|`, `.`, `.`, `.`, `|`, `.`, `.`, `.`, `.`],
    [`.`, `#`, `.`, `.`, `.`, `|`, `.`, `|`, `.`, `.`, `.`, `.`, `#`, `#`, `.`, `.`, `#`, `#`, `.`, `.`, `.`, `.`, `|`, `.`, `.`, `.`, `#`, `|`, `.`, `#`, `|`, `.`, `.`, `#`, `.`, `#`, `#`, `.`, `.`, `.`, `.`, `#`, `.`, `.`, `|`, `.`, `.`, `.`, `.`, `|`],
    [`|`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `#`, `|`, `#`, `.`, `.`, `.`, `.`, `.`, `.`, `|`, `.`, `.`, `.`, `#`, `.`, `.`, `#`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `|`, `.`, `|`, `#`, `|`, `#`, `#`, `|`, `.`, `.`, `|`, `|`, `#`, `.`, `.`, `.`],
    [`.`, `.`, `.`, `|`, `#`, `.`, `|`, `#`, `.`, `.`, `#`, `|`, `#`, `.`, `.`, `|`, `|`, `|`, `.`, `.`, `.`, `#`, `.`, `|`, `.`, `|`, `.`, `|`, `.`, `.`, `.`, `#`, `#`, `.`, `.`, `.`, `.`, `#`, `|`, `#`, `|`, `.`, `#`, `.`, `|`, `.`, `|`, `|`, `.`, `.`],
    [`|`, `.`, `.`, `#`, `|`, `|`, `|`, `.`, `#`, `|`, `|`, `#`, `#`, `#`, `#`, `#`, `.`, `|`, `#`, `.`, `.`, `#`, `.`, `.`, `.`, `.`, `|`, `.`, `.`, `.`, `#`, `.`, `#`, `.`, `.`, `|`, `.`, `|`, `|`, `.`, `.`, `.`, `|`, `#`, `#`, `.`, `.`, `|`, `.`, `.`],
    [`.`, `|`, `.`, `.`, `.`, `|`, `.`, `.`, `.`, `.`, `|`, `.`, `.`, `.`, `|`, `.`, `.`, `.`, `.`, `#`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `#`, `.`, `#`, `.`, `.`, `|`, `.`, `|`, `.`, `.`, `.`, `.`, `|`, `|`, `#`, `|`, `.`, `#`, `#`, `.`, `#`, `.`],
    [`.`, `.`, `.`, `.`, `.`, `.`, `#`, `|`, `|`, `|`, `|`, `#`, `.`, `.`, `.`, `|`, `.`, `.`, `.`, `#`, `.`, `.`, `.`, `|`, `.`, `.`, `.`, `.`, `|`, `.`, `|`, `|`, `.`, `|`, `.`, `.`, `|`, `.`, `#`, `.`, `.`, `#`, `|`, `.`, `#`, `.`, `|`, `.`, `.`, `.`],
    [`.`, `#`, `.`, `.`, `.`, `#`, `|`, `|`, `.`, `|`, `.`, `.`, `.`, `|`, `#`, `#`, `.`, `.`, `.`, `|`, `.`, `.`, `|`, `.`, `|`, `|`, `.`, `.`, `#`, `.`, `.`, `|`, `.`, `#`, `|`, `|`, `.`, `.`, `#`, `|`, `.`, `.`, `|`, `|`, `#`, `|`, `.`, `.`, `#`, `.`],
    [`|`, `.`, `|`, `.`, `|`, `#`, `.`, `#`, `.`, `.`, `#`, `|`, `.`, `.`, `#`, `.`, `#`, `#`, `#`, `.`, `#`, `.`, `|`, `.`, `|`, `#`, `.`, `|`, `.`, `.`, `#`, `.`, `|`, `#`, `#`, `.`, `.`, `.`, `#`, `.`, `.`, `#`, `|`, `#`, `.`, `|`, `|`, `.`, `#`, `|`],
    [`.`, `#`, `|`, `|`, `.`, `#`, `#`, `.`, `.`, `|`, `.`, `.`, `.`, `.`, `|`, `|`, `#`, `.`, `.`, `|`, `|`, `|`, `.`, `.`, `.`, `.`, `.`, `#`, `.`, `#`, `.`, `.`, `.`, `.`, `.`, `.`, `.`, `|`, `.`, `#`, `#`, `#`, `.`, `.`, `.`, `#`, `.`, `.`, `.`, `#`],
    [`.`, `|`, `#`, `#`, `.`, `.`, `#`, `|`, `|`, `.`, `|`, `.`, `|`, `.`, `.`, `.`, `.`, `.`, `|`, `.`, `.`, `.`, `.`, `|`, `.`, `.`, `|`, `#`, `.`, `.`, `.`, `#`, `.`, `.`, `|`, `|`, `|`, `|`, `#`, `|`, `.`, `|`, `.`, `.`, `.`, `.`, `.`, `#`, `|`, `.`],
    [`|`, `#`, `.`, `#`, `.`, `#`, `.`, `|`, `#`, `.`, `#`, `|`, `#`, `.`, `.`, `.`, `|`, `|`, `#`, `.`, `.`, `.`, `.`, `.`, `|`, `.`, `.`, `.`, `.`, `.`, `.`, `|`, `|`, `.`, `.`, `.`, `.`, `.`, `.`, `#`, `#`, `|`, `.`, `.`, `.`, `.`, `|`, `|`, `.`, `.`],
    [`.`, `#`, `#`, `#`, `#`, `#`, `|`, `#`, `|`, `#`, `.`, `#`, `.`, `.`, `.`, `.`, `#`, `#`, `#`, `|`, `|`, `#`, `.`, `.`, `|`, `.`, `#`, `.`, `.`, `|`, `.`, `.`, `|`, `.`, `#`, `#`, `.`, `.`, `|`, `|`, `|`, `.`, `.`, `#`, `|`, `#`, `.`, `#`, `#`, `.`],
];

processCell = async (i, j) => {
    const adjacentCells = [];
    const xLen = initialState.length - 1;
    const yLen = initialState[i].length - 1;
    const initialCell = initialState[i][j];

    let x1 = i - 1;
    x1 = x1 >= 0 ? x1 : 0;

    let x2 = i + 1;
    x2 = x2 <= xLen ? x2 : xLen;

    let y1 = j - 1;
    y1 = y1 >= 0 ? y1 : 0;

    let y2 = j + 1;
    y2 = y2 <= yLen ? y2 : yLen;

    for (let x = x1; x <= x2; x++) {
        for (let y = y1; y <= y2; y++) {
            if (x !== i || y !== j) {
                adjacentCells.push(initialState[x][y]);
            }
        }
    }

    if (initialCell === state.space) {
        if (adjacentCells.filter(cell => cell === state.tree).length >= 3) {
            return state.tree;
        }
        return state.space;
    }

    if (initialCell === state.tree) {
        if (adjacentCells.filter(cell => cell === state.lumber).length >= 3) {
            return state.lumber;
        }
        return state.tree;
    }

    if (initialCell === state.lumber) {
        if ((adjacentCells.filter(cell => cell === state.lumber).length >= 1) && (adjacentCells.filter(cell => cell === state.tree).length >= 1)) {
            return state.lumber;
        }
        return state.space;
    }
}

let year = 0;
let interval;

getTotal = async field => {
    let tree = 0;
    let lumber = 0;

    await field.forEach(async row => {
        row.forEach(async cell => {
            if (cell === state.tree) {
                tree = tree + 1;
            }
            if (cell === state.lumber) {
                lumber = lumber + 1;
            }
        });
    });

    return tree * lumber;
}

display = async field => {
    console.clear();
    console.log(`Year ${year + 1}: ${await getTotal(field)}`);
    console.log(field.map(row => row.join(``)).join(`\n`));
}

processYear = async _ => {
    initialState = await Promise.all(initialState.map(async (row, i) => {
        return await Promise.all(row.map(async (_cell, j) => {
            return await processCell(i, j);
        }));
    }));

    await display(initialState);

    if (year === 9) {
        clearInterval(interval);
    }
    year = year + 1;
}

interval = setInterval(processYear, 50);
