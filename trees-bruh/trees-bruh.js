let initialState =
[
    [`.`,`.`,`.`,`.`,`.`,`.`,`|`,`|`,`.`,`.`,`.`,`#`,`.`,`|`,`#`,`|`,`|`,`#`,`.`,`.`,`.`,`.`,`.`,`.`,`|`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`|`,`.`,`|`,`#`,`|`,`|`,`.`,`|`,`#`,`.`,`.`,`.`,`#`,`.`,`#`,`.`],
    [`.`,`#`,`.`,`#`,`.`,`#`,`.`,`|`,`.`,`|`,`#`,`#`,`.`,`|`,`#`,`#`,`|`,`.`,`|`,`|`,`#`,`.`,`.`,`#`,`|`,`|`,`.`,`|`,`.`,`.`,`.`,`.`,`.`,`|`,`|`,`.`,`.`,`.`,`.`,`|`,`#`,`|`,`.`,`.`,`.`,`.`,`#`,`|`,`#`,`.`],
    [`.`,`.`,`|`,`.`,`.`,`#`,`.`,`#`,`#`,`|`,`#`,`.`,`.`,`#`,`.`,`|`,`#`,`#`,`.`,`.`,`.`,`.`,`|`,`.`,`.`,`#`,`|`,`#`,`.`,`|`,`|`,`.`,`.`,`#`,`.`,`.`,`.`,`.`,`#`,`|`,`.`,`.`,`.`,`.`,`.`,`.`,`#`,`|`,`.`,`.`],
    [`.`,`.`,`.`,`.`,`.`,`.`,`.`,`|`,`.`,`.`,`.`,`.`,`#`,`|`,`#`,`.`,`#`,`|`,`.`,`|`,`#`,`#`,`.`,`|`,`|`,`.`,`.`,`.`,`.`,`.`,`.`,`#`,`.`,`|`,`.`,`.`,`.`,`.`,`|`,`#`,`#`,`.`,`.`,`.`,`.`,`#`,`#`,`|`,`|`,`.`],
    [`|`,`#`,`|`,`.`,`.`,`.`,`.`,`.`,`|`,`.`,`#`,`|`,`.`,`.`,`#`,`.`,`.`,`.`,`.`,`.`,`#`,`.`,`.`,`.`,`|`,`#`,`.`,`#`,`.`,`#`,`#`,`.`,`.`,`.`,`.`,`#`,`.`,`|`,`|`,`.`,`.`,`.`,`.`,`#`,`#`,`.`,`#`,`|`,`#`,`|`],
    [`#`,`|`,`#`,`#`,`|`,`.`,`.`,`|`,`.`,`|`,`#`,`|`,`|`,`.`,`|`,`#`,`|`,`.`,`|`,`.`,`.`,`#`,`.`,`.`,`.`,`#`,`|`,`.`,`#`,`#`,`.`,`|`,`#`,`.`,`|`,`.`,`.`,`.`,`.`,`.`,`#`,`#`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`.`],
    [`.`,`#`,`|`,`#`,`.`,`.`,`#`,`|`,`.`,`.`,`|`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`#`,`.`,`.`,`#`,`.`,`.`,`.`,`.`,`.`,`.`,`#`,`#`,`|`,`|`,`#`,`|`,`|`,`#`,`.`,`|`,`|`,`#`,`|`,`.`,`#`,`.`,`.`,`.`,`.`,`.`,`|`,`|`],
    [`.`,`#`,`.`,`#`,`.`,`.`,`|`,`.`,`|`,`.`,`.`,`.`,`.`,`.`,`|`,`.`,`#`,`.`,`.`,`.`,`|`,`.`,`.`,`.`,`.`,`|`,`#`,`.`,`.`,`#`,`.`,`.`,`.`,`|`,`.`,`|`,`.`,`|`,`.`,`.`,`#`,`.`,`.`,`.`,`#`,`.`,`#`,`.`,`|`,`|`],
    [`|`,`.`,`|`,`|`,`|`,`#`,`#`,`|`,`#`,`.`,`#`,`.`,`.`,`#`,`|`,`.`,`.`,`|`,`.`,`.`,`.`,`.`,`|`,`.`,`.`,`.`,`#`,`|`,`.`,`.`,`|`,`.`,`.`,`#`,`.`,`#`,`.`,`|`,`.`,`#`,`.`,`|`,`#`,`.`,`.`,`.`,`#`,`#`,`.`,`|`],
    [`|`,`.`,`.`,`.`,`#`,`|`,`.`,`.`,`#`,`.`,`.`,`.`,`.`,`.`,`#`,`#`,`#`,`.`,`#`,`|`,`#`,`.`,`.`,`.`,`#`,`#`,`.`,`.`,`.`,`.`,`|`,`.`,`.`,`|`,`|`,`|`,`|`,`.`,`|`,`.`,`#`,`.`,`|`,`#`,`.`,`#`,`.`,`.`,`.`,`.`],
    [`.`,`.`,`.`,`#`,`.`,`.`,`.`,`.`,`#`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`|`,`.`,`.`,`.`,`#`,`#`,`.`,`.`,`.`,`.`,`#`,`|`,`#`,`.`,`.`,`|`,`.`,`.`,`.`,`#`,`|`,`.`,`.`,`#`,`.`,`.`,`|`,`|`,`|`,`.`,`|`,`#`,`.`,`.`],
    [`.`,`.`,`.`,`.`,`.`,`|`,`|`,`.`,`|`,`.`,`|`,`|`,`#`,`|`,`#`,`.`,`.`,`|`,`|`,`.`,`.`,`.`,`.`,`#`,`|`,`.`,`|`,`.`,`|`,`|`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`#`,`.`,`|`,`.`,`.`,`.`,`.`,`.`,`|`,`.`,`.`,`.`,`.`],
    [`|`,`#`,`.`,`#`,`|`,`.`,`.`,`#`,`.`,`#`,`.`,`.`,`.`,`.`,`#`,`#`,`.`,`#`,`.`,`|`,`.`,`#`,`#`,`|`,`.`,`.`,`|`,`.`,`|`,`.`,`#`,`.`,`.`,`.`,`.`,`.`,`#`,`.`,`.`,`#`,`.`,`.`,`.`,`.`,`.`,`#`,`.`,`.`,`.`,`.`],
    [`#`,`.`,`|`,`|`,`.`,`#`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`#`,`.`,`.`,`.`,`|`,`#`,`.`,`.`,`#`,`|`,`.`,`#`,`.`,`#`,`.`,`.`,`.`,`#`,`|`,`|`,`|`,`.`,`.`,`.`,`.`,`.`,`|`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`|`,`.`],
    [`.`,`|`,`.`,`|`,`.`,`.`,`.`,`|`,`.`,`|`,`.`,`#`,`|`,`.`,`.`,`.`,`#`,`.`,`.`,`.`,`|`,`|`,`.`,`|`,`.`,`#`,`.`,`#`,`.`,`.`,`.`,`#`,`#`,`.`,`.`,`.`,`.`,`.`,`.`,`|`,`#`,`.`,`.`,`.`,`.`,`.`,`#`,`#`,`.`,`.`],
    [`#`,`#`,`#`,`.`,`.`,`.`,`.`,`|`,`|`,`#`,`.`,`#`,`.`,`.`,`#`,`.`,`#`,`|`,`.`,`#`,`#`,`|`,`.`,`#`,`#`,`.`,`.`,`#`,`.`,`.`,`#`,`|`,`.`,`.`,`|`,`#`,`#`,`|`,`.`,`#`,`.`,`|`,`.`,`.`,`.`,`#`,`.`,`.`,`.`,`.`],
    [`.`,`#`,`.`,`#`,`.`,`.`,`|`,`#`,`#`,`.`,`.`,`#`,`.`,`#`,`.`,`.`,`#`,`.`,`.`,`.`,`.`,`.`,`|`,`|`,`|`,`.`,`.`,`|`,`.`,`.`,`.`,`.`,`.`,`|`,`|`,`|`,`.`,`#`,`#`,`#`,`.`,`|`,`.`,`.`,`#`,`.`,`|`,`|`,`#`,`.`],
    [`|`,`.`,`.`,`#`,`.`,`|`,`.`,`#`,`.`,`.`,`|`,`#`,`#`,`.`,`#`,`.`,`|`,`.`,`#`,`.`,`.`,`.`,`.`,`.`,`#`,`.`,`|`,`.`,`.`,`#`,`.`,`|`,`.`,`|`,`.`,`.`,`.`,`|`,`|`,`.`,`.`,`#`,`.`,`.`,`#`,`|`,`.`,`.`,`|`,`#`],
    [`.`,`.`,`.`,`|`,`.`,`.`,`#`,`|`,`.`,`.`,`|`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`|`,`|`,`#`,`.`,`.`,`.`,`.`,`#`,`.`,`.`,`.`,`#`,`.`,`.`,`|`,`|`,`.`,`|`,`.`,`.`,`.`,`.`,`#`,`.`,`.`,`.`,`.`,`.`,`.`,`.`],
    [`.`,`.`,`.`,`.`,`.`,`#`,`.`,`#`,`.`,`|`,`.`,`.`,`.`,`|`,`#`,`.`,`.`,`.`,`#`,`#`,`#`,`#`,`|`,`|`,`.`,`.`,`.`,`#`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`#`,`.`,`.`,`#`,`.`,`#`,`#`,`.`,`#`,`.`,`.`],
    [`|`,`#`,`.`,`#`,`#`,`#`,`.`,`.`,`#`,`.`,`.`,`#`,`|`,`#`,`|`,`.`,`|`,`.`,`.`,`#`,`|`,`.`,`.`,`.`,`.`,`#`,`#`,`.`,`.`,`#`,`.`,`.`,`|`,`.`,`.`,`.`,`#`,`|`,`#`,`.`,`.`,`#`,`.`,`#`,`#`,`.`,`|`,`.`,`.`,`#`],
    [`.`,`|`,`#`,`#`,`.`,`#`,`.`,`.`,`.`,`.`,`#`,`.`,`.`,`.`,`.`,`#`,`.`,`.`,`.`,`#`,`|`,`.`,`#`,`#`,`.`,`.`,`.`,`|`,`#`,`.`,`|`,`|`,`.`,`#`,`.`,`.`,`.`,`|`,`.`,`.`,`.`,`.`,`|`,`.`,`.`,`|`,`#`,`.`,`#`,`.`],
    [`.`,`|`,`.`,`.`,`|`,`|`,`|`,`.`,`.`,`|`,`.`,`.`,`.`,`#`,`.`,`|`,`.`,`|`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`|`,`#`,`.`,`.`,`|`,`#`,`#`,`.`,`#`,`.`,`|`,`#`,`.`,`|`,`.`,`.`,`#`,`.`,`.`,`|`,`#`,`.`],
    [`|`,`#`,`|`,`.`,`#`,`.`,`.`,`#`,`|`,`.`,`.`,`.`,`|`,`|`,`|`,`.`,`.`,`|`,`.`,`#`,`#`,`#`,`|`,`|`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`#`,`.`,`.`,`.`,`|`,`.`,`.`,`.`,`|`,`|`,`.`,`|`,`#`,`#`,`.`,`.`,`|`,`|`,`.`],
    [`.`,`.`,`#`,`.`,`|`,`.`,`.`,`.`,`|`,`|`,`#`,`.`,`.`,`.`,`#`,`#`,`.`,`.`,`.`,`.`,`.`,`|`,`|`,`.`,`.`,`#`,`|`,`.`,`.`,`#`,`.`,`#`,`.`,`.`,`.`,`|`,`#`,`.`,`.`,`#`,`.`,`#`,`#`,`#`,`.`,`#`,`.`,`.`,`#`,`.`],
    [`|`,`.`,`|`,`|`,`.`,`.`,`#`,`#`,`.`,`.`,`.`,`.`,`#`,`.`,`.`,`.`,`#`,`.`,`.`,`.`,`.`,`.`,`.`,`#`,`.`,`|`,`|`,`.`,`|`,`.`,`#`,`#`,`|`,`.`,`|`,`|`,`|`,`|`,`.`,`.`,`.`,`|`,`#`,`.`,`.`,`.`,`.`,`.`,`.`,`.`],
    [`.`,`.`,`#`,`#`,`.`,`#`,`.`,`|`,`#`,`.`,`.`,`|`,`|`,`.`,`.`,`#`,`.`,`.`,`.`,`.`,`.`,`.`,`|`,`.`,`.`,`|`,`#`,`.`,`|`,`|`,`.`,`|`,`.`,`|`,`|`,`.`,`|`,`.`,`#`,`|`,`|`,`.`,`|`,`.`,`.`,`#`,`.`,`|`,`|`,`#`],
    [`.`,`|`,`.`,`.`,`.`,`#`,`#`,`|`,`.`,`.`,`|`,`.`,`#`,`.`,`#`,`.`,`.`,`#`,`#`,`.`,`.`,`#`,`.`,`.`,`#`,`.`,`.`,`.`,`.`,`|`,`.`,`#`,`.`,`#`,`.`,`.`,`.`,`.`,`#`,`.`,`#`,`.`,`|`,`#`,`.`,`.`,`.`,`#`,`|`,`|`],
    [`|`,`.`,`|`,`#`,`#`,`.`,`|`,`|`,`|`,`|`,`|`,`.`,`|`,`.`,`|`,`|`,`.`,`.`,`.`,`|`,`.`,`|`,`|`,`.`,`#`,`#`,`.`,`.`,`|`,`.`,`|`,`|`,`.`,`.`,`#`,`.`,`.`,`#`,`.`,`.`,`#`,`|`,`.`,`.`,`.`,`.`,`.`,`.`,`#`,`|`],
    [`.`,`.`,`#`,`.`,`|`,`#`,`#`,`.`,`.`,`.`,`.`,`#`,`.`,`#`,`.`,`.`,`.`,`.`,`#`,`.`,`.`,`.`,`#`,`.`,`.`,`.`,`.`,`#`,`#`,`#`,`.`,`.`,`.`,`.`,`.`,`.`,`#`,`#`,`.`,`.`,`|`,`.`,`.`,`.`,`.`,`.`,`.`,`#`,`.`,`.`],
    [`#`,`#`,`.`,`.`,`.`,`.`,`#`,`|`,`#`,`.`,`#`,`.`,`#`,`.`,`#`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`#`,`.`,`.`,`.`,`#`,`.`,`.`,`#`,`|`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`|`,`.`,`.`],
    [`#`,`#`,`|`,`|`,`|`,`.`,`#`,`#`,`.`,`.`,`.`,`.`,`.`,`.`,`#`,`.`,`#`,`#`,`.`,`.`,`.`,`.`,`.`,`.`,`#`,`.`,`.`,`|`,`.`,`.`,`#`,`.`,`.`,`#`,`.`,`#`,`.`,`.`,`|`,`|`,`.`,`.`,`.`,`|`,`.`,`.`,`.`,`|`,`#`,`|`],
    [`.`,`|`,`.`,`.`,`.`,`.`,`#`,`.`,`#`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`#`,`.`,`#`,`.`,`#`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`|`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`#`,`.`,`|`,`|`,`#`,`|`,`|`,`#`],
    [`.`,`.`,`|`,`.`,`|`,`#`,`.`,`|`,`.`,`.`,`.`,`#`,`#`,`.`,`|`,`.`,`#`,`.`,`#`,`.`,`#`,`.`,`#`,`.`,`.`,`.`,`|`,`.`,`.`,`.`,`|`,`.`,`.`,`.`,`#`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`|`,`#`,`|`,`#`,`.`,`|`,`.`,`|`],
    [`.`,`.`,`.`,`.`,`.`,`.`,`|`,`.`,`#`,`#`,`#`,`#`,`.`,`.`,`|`,`.`,`.`,`.`,`.`,`.`,`#`,`.`,`.`,`.`,`.`,`#`,`|`,`#`,`#`,`.`,`.`,`|`,`.`,`|`,`#`,`#`,`.`,`.`,`.`,`.`,`.`,`#`,`#`,`|`,`.`,`|`,`#`,`.`,`#`,`.`],
    [`.`,`#`,`#`,`.`,`.`,`#`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`#`,`#`,`#`,`.`,`|`,`.`,`.`,`#`,`.`,`|`,`.`,`|`,`#`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`#`,`.`,`.`,`#`,`.`,`#`,`.`,`|`,`.`,`.`,`|`,`#`,`.`,`.`,`.`,`.`],
    [`.`,`|`,`.`,`.`,`|`,`.`,`.`,`#`,`.`,`.`,`#`,`.`,`#`,`.`,`#`,`#`,`#`,`|`,`#`,`|`,`#`,`.`,`.`,`.`,`.`,`|`,`|`,`#`,`.`,`.`,`.`,`.`,`#`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`|`,`.`,`.`,`.`,`.`,`.`,`#`,`#`,`.`,`.`],
    [`.`,`.`,`#`,`.`,`.`,`#`,`#`,`.`,`.`,`|`,`.`,`|`,`.`,`.`,`.`,`.`,`|`,`|`,`#`,`|`,`#`,`.`,`.`,`.`,`.`,`.`,`|`,`#`,`.`,`|`,`.`,`#`,`#`,`#`,`|`,`.`,`.`,`.`,`.`,`#`,`|`,`|`,`.`,`.`,`.`,`|`,`.`,`.`,`.`,`.`],
    [`.`,`#`,`.`,`.`,`.`,`|`,`.`,`|`,`.`,`.`,`.`,`.`,`#`,`#`,`.`,`.`,`#`,`#`,`.`,`.`,`.`,`.`,`|`,`.`,`.`,`.`,`#`,`|`,`.`,`#`,`|`,`.`,`.`,`#`,`.`,`#`,`#`,`.`,`.`,`.`,`.`,`#`,`.`,`.`,`|`,`.`,`.`,`.`,`.`,`|`],
    [`|`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`#`,`|`,`#`,`.`,`.`,`.`,`.`,`.`,`.`,`|`,`.`,`.`,`.`,`#`,`.`,`.`,`#`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`|`,`.`,`|`,`#`,`|`,`#`,`#`,`|`,`.`,`.`,`|`,`|`,`#`,`.`,`.`,`.`],
    [`.`,`.`,`.`,`|`,`#`,`.`,`|`,`#`,`.`,`.`,`#`,`|`,`#`,`.`,`.`,`|`,`|`,`|`,`.`,`.`,`.`,`#`,`.`,`|`,`.`,`|`,`.`,`|`,`.`,`.`,`.`,`#`,`#`,`.`,`.`,`.`,`.`,`#`,`|`,`#`,`|`,`.`,`#`,`.`,`|`,`.`,`|`,`|`,`.`,`.`],
    [`|`,`.`,`.`,`#`,`|`,`|`,`|`,`.`,`#`,`|`,`|`,`#`,`#`,`#`,`#`,`#`,`.`,`|`,`#`,`.`,`.`,`#`,`.`,`.`,`.`,`.`,`|`,`.`,`.`,`.`,`#`,`.`,`#`,`.`,`.`,`|`,`.`,`|`,`|`,`.`,`.`,`.`,`|`,`#`,`#`,`.`,`.`,`|`,`.`,`.`],
    [`.`,`|`,`.`,`.`,`.`,`|`,`.`,`.`,`.`,`.`,`|`,`.`,`.`,`.`,`|`,`.`,`.`,`.`,`.`,`#`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`#`,`.`,`#`,`.`,`.`,`|`,`.`,`|`,`.`,`.`,`.`,`.`,`|`,`|`,`#`,`|`,`.`,`#`,`#`,`.`,`#`,`.`],
    [`.`,`.`,`.`,`.`,`.`,`.`,`#`,`|`,`|`,`|`,`|`,`#`,`.`,`.`,`.`,`|`,`.`,`.`,`.`,`#`,`.`,`.`,`.`,`|`,`.`,`.`,`.`,`.`,`|`,`.`,`|`,`|`,`.`,`|`,`.`,`.`,`|`,`.`,`#`,`.`,`.`,`#`,`|`,`.`,`#`,`.`,`|`,`.`,`.`,`.`],
    [`.`,`#`,`.`,`.`,`.`,`#`,`|`,`|`,`.`,`|`,`.`,`.`,`.`,`|`,`#`,`#`,`.`,`.`,`.`,`|`,`.`,`.`,`|`,`.`,`|`,`|`,`.`,`.`,`#`,`.`,`.`,`|`,`.`,`#`,`|`,`|`,`.`,`.`,`#`,`|`,`.`,`.`,`|`,`|`,`#`,`|`,`.`,`.`,`#`,`.`],
    [`|`,`.`,`|`,`.`,`|`,`#`,`.`,`#`,`.`,`.`,`#`,`|`,`.`,`.`,`#`,`.`,`#`,`#`,`#`,`.`,`#`,`.`,`|`,`.`,`|`,`#`,`.`,`|`,`.`,`.`,`#`,`.`,`|`,`#`,`#`,`.`,`.`,`.`,`#`,`.`,`.`,`#`,`|`,`#`,`.`,`|`,`|`,`.`,`#`,`|`],
    [`.`,`#`,`|`,`|`,`.`,`#`,`#`,`.`,`.`,`|`,`.`,`.`,`.`,`.`,`|`,`|`,`#`,`.`,`.`,`|`,`|`,`|`,`.`,`.`,`.`,`.`,`.`,`#`,`.`,`#`,`.`,`.`,`.`,`.`,`.`,`.`,`.`,`|`,`.`,`#`,`#`,`#`,`.`,`.`,`.`,`#`,`.`,`.`,`.`,`#`],
    [`.`,`|`,`#`,`#`,`.`,`.`,`#`,`|`,`|`,`.`,`|`,`.`,`|`,`.`,`.`,`.`,`.`,`.`,`|`,`.`,`.`,`.`,`.`,`|`,`.`,`.`,`|`,`#`,`.`,`.`,`.`,`#`,`.`,`.`,`|`,`|`,`|`,`|`,`#`,`|`,`.`,`|`,`.`,`.`,`.`,`.`,`.`,`#`,`|`,`.`],
    [`|`,`#`,`.`,`#`,`.`,`#`,`.`,`|`,`#`,`.`,`#`,`|`,`#`,`.`,`.`,`.`,`|`,`|`,`#`,`.`,`.`,`.`,`.`,`.`,`|`,`.`,`.`,`.`,`.`,`.`,`.`,`|`,`|`,`.`,`.`,`.`,`.`,`.`,`.`,`#`,`#`,`|`,`.`,`.`,`.`,`.`,`|`,`|`,`.`,`.`],
    [`.`,`#`,`#`,`#`,`#`,`#`,`|`,`#`,`|`,`#`,`.`,`#`,`.`,`.`,`.`,`.`,`#`,`#`,`#`,`|`,`|`,`#`,`.`,`.`,`|`,`.`,`#`,`.`,`.`,`|`,`.`,`.`,`|`,`.`,`#`,`#`,`.`,`.`,`|`,`|`,`|`,`.`,`.`,`#`,`|`,`#`,`.`,`#`,`#`,`.`],
];

processCell = (i, j) => {
    const adjacentCells = [];
    
    let x1 = i - 1;
    x1 = x1 < 0 ? 0 : x1;

    let x2 = i + 1;
    x2 = x2 > initialState.length-1 ? initialState.length-1 : x2;

    let y1 = j - 1;
    y1 = y1 < 0 ? 0 : y1;

    let y2 = j + 1;
    y2 = y2 > initialState[i].length-1 ? initialState[i].length-1 : y2;

    for(let x = x1; x <= x2; x++) {
        for(let y = y1; y <= y2; y++) {
            if (x !== i || y !== j) {
                adjacentCells.push(initialState[x][y]);
            }
        }
    }

    const cell =initialState[i][j];
    const adjacent = adjacentCells.join(``);

    if (cell === `.`) {
        if(adjacent.split(`|`).length >= 4) {
            return `|`;
        }
        return `.`;
    }

    if (cell === `|`) {
        if(adjacent.split(`#`).length >= 4) {
            return `#`;
        }
        return `|`;
    }

    if (cell === `#`) {
        if ((adjacent.split(`#`).length >= 2) && (adjacent.split(`|`).length >= 2)){
            return `#`;
        }
        return `.`;
    }
}

display = field => {
    const tempField = [];
    field.forEach(row => tempField.push(row.join(``)));
    console.log(tempField);
}

getTotal = field => {
    let wood = 0;
    let lumber = 0;

    field.forEach(row => {
        row.forEach(cell => {
            if (cell === `|`) {
                wood = wood + 1;
            }
            if (cell === `#`) {
                lumber = lumber + 1;
            }
        })
    });

    return wood * lumber;
}

let year = 0;
let interval;

processYear = () => {
    let newState = [];

    for (let i = 0; i < initialState.length; i++) {
        const newRow = [];
        for (let j = 0; j < initialState[i].length; j++) {
            newRow.push(processCell(i, j));
        }
        newState.push(newRow);
    }
    initialState = newState;
    // console.log(initialState.length);
    console.clear();
    console.log(`Year ${year + 1}: ${getTotal(initialState)}`);
    display(initialState);
    if (year === 3000) {
        clearInterval(interval);
    }
    year = year + 1;
}

interval = setInterval(processYear, 250);

// for(let year = 0; year < 1000; year++) {
//     let newState = [];

//     for (let i = 0; i < initialState.length; i++) {
//         const newRow = [];
//         for (let j = 0; j < initialState[i].length; j++) {
//             newRow.push(processCell(i, j));
//         }
//         newState.push(newRow);
//     }
//     initialState = newState;
//     // console.log(initialState.length);
//     // console.log(getTotal(initialState));
//     console.clear();
//     console.log(`Year ${year + 1}`);
//     display(initialState);
// }

// console.log(getTotal(initialState));
// display(initialState);
